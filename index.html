<script>
// ===== CONFIGURAÇÕES (VOCÊ SÓ MEXE AQUI) =====
const config = {
    // Valores fixos
    metaTotal: 60000,           // Meta total em reais
    valorArrecadado: 4000,      // Valor já arrecadado

    // Datas
    dataAlvo: new Date('2026-12-15'),  // Data prevista pra Dublin
    dataInicioIngles: new Date('2026-01-15'), // Quando começou inglês
};

// ===== FUNÇÕES DE CÁLCULO =====

// Calcular valor restante
function calcularRestante() {
    return config.metaTotal - config.valorArrecadado;
}

// Calcular percentual
function calcularPercentual() {
    return ((config.valorArrecadado / config.metaTotal) * 100).toFixed(2);
}

// Calcular dias até Dublin
function calcularDiasAte(dataFinal) {
    const hoje = new Date();
    const diferenca = dataFinal - hoje;
    const dias = Math.ceil(diferenca / (1000 * 60 * 60 * 24));
    return dias > 0 ? dias : 0;
}

// Calcular dias desde uma data
function calcularDiasDesde(dataInicial) {
    const hoje = new Date();
    const diferenca = hoje - dataInicial;
    const dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));
    return dias > 0 ? dias : 0;
}

// Formatar valor em reais
function formatarReais(valor) {
    return valor.toLocaleString('pt-BR', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    });
}

// ===== ATUALIZAR PÁGINA =====
function atualizarTudo() {
    const restante = calcularRestante();
    const percentual = calcularPercentual();
    const diasDublin = calcularDiasAte(config.dataAlvo);
    const diasIngles = calcularDiasDesde(config.dataInicioIngles);

    // Atualizar barra de progresso
    const barraProgresso = document.querySelector('.progress-bar');
    if (barraProgresso) {
        barraProgresso.style.width = percentual + '%';
        barraProgresso.textContent = percentual + '%';
    }

    // Atualizar valores no hero
    const progressDetails = document.querySelectorAll('.progress-detail-value');
    if (progressDetails.length >= 3) {
        progressDetails[0].textContent = 'R$ ' + formatarReais(config.valorArrecadado);
        progressDetails[1].textContent = 'R$ ' + formatarReais(config.metaTotal);
        progressDetails[2].textContent = 'R$ ' + formatarReais(restante);
    }

    // Atualizar dias até Dublin
    const elemDiasDublin = document.querySelector('.stat-number.dias-dublin');
    if (elemDiasDublin) {
        elemDiasDublin.textContent = diasDublin;
    }

    // Atualizar dias estudando inglês (se você tiver esse elemento)
    const elemDiasIngles = document.querySelector('.stat-number.dias-ingles');
    if (elemDiasIngles) {
        elemDiasIngles.textContent = diasIngles;
    }

    // Atualizar percentual na timeline "Em Andamento"
    const timelineProgress = document.querySelector('.timeline-status.in-progress');
    if (timelineProgress) {
        timelineProgress.textContent = `⏳ Em Andamento (${percentual}%)`;
    }
}

// ===== EXECUTAR =====
document.addEventListener('DOMContentLoaded', atualizarTudo);

// Atualizar a cada 1 hora
setInterval(atualizarTudo, 3600000);
</script>
